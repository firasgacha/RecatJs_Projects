{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Firas GACHA\\\\Desktop\\\\Coursera_Projects\\\\test-part-2\\\\src\\\\components\\\\UserManager.js\";\nimport React from 'react'; // Task 7 import AppContext from './AppContext';\n\nimport './master.css';\n\nclass UserManager extends React.Component {\n  // Task 7 static contextType = AppContext;\n  // Task 6\n  // componentDidMount() {\n  //   console.log(\"UserManager.componentDidMount( )\");\n  //\n  //   // let the property in App point to this\n  //   // Task 7\n  //   // let appContext = this.context;\n  //   // appContext.userManager = this;\n  // }\n  //\n  // componentDidUpdate(prevProps, prevState) {\n  //   console.log(\"UserManager.componentDidUpdate( )\");\n  //\n  //   // only do this if the ID has changed\n  //\n  //   // Task 7\n  //   // if (prevState.userId !== this.state.userId) {\n  //   //\n  //   //   // calls ALL the event listeners and pass them the new user ID\n  //   //   this.idChangeListeners.forEach(listener => listener(this.state.userId));\n  //   // }\n  // }\n  constructor(props) {\n    super(props);\n    this.state = {\n      userId: \"\",\n      userName: \"\",\n      loggedIn: \"\",\n      instructions: \"Please log in comment on photos\",\n      userIdFieldValue: \"\",\n      passwordFieldValue: \"\"\n    }; // a list of objects that listen to ID change events\n    // Task 7 this.idChangeListeners = [];\n    // Task 2\n    // these are necessary for \"this\" to point to this object\n\n    this.handleUserIdChange = this.handleUserIdChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this); // Task 7 this.idChangeSubscribe = this.idChangeSubscribe.bind(this);\n\n    this.logIn = this.logIn.bind(this);\n    this.logOut = this.logOut.bind(this);\n  } // Task 3\n\n\n  handleUserIdChange(event) {\n    this.setState({\n      userId: event.target.value\n    });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({\n      password: event\n    });\n  } // this method is for listener to add themselves to the list so that\n  // they will get notified when the user ID has changed\n  // Task 7\n  // idChangeSubscribe(listener) {\n  //   console.log(\"UserManager.idChangeSubscribe()\");\n  //   this.idChangeListeners.push(listener);\n  //   console.log(this.idChangeListeners);\n  // }\n\n\n  logIn() {\n    // this.setState({loggedIn: true});\n    // Task 2\n    // Task 3\n    let userIdEntered = this.state.userIdFieldValue;\n    let passwordEntered = this.state.passwordFieldValue;\n    let successful = false;\n    let userName = \"unknown\"; // Simulated database lookup!!! We would not do this in real life!\n\n    if (userIdEntered.trim() === \"harry\" && passwordEntered.trim() === \"12345\") {\n      userName = \"Harry Kong\";\n      successful = true;\n    }\n\n    if (userIdEntered.trim() === \"jenny\" && passwordEntered.trim() === \"12345\") {\n      userName = \"Jenny Luz\";\n      successful = true;\n    } // Was the log in successful?\n\n\n    if (successful) {\n      this.setState({\n        loggedIn: true,\n        userId: userIdEntered.trim(),\n        userName: userName,\n        instructions: \"You can now comment on photos!\"\n      }, () => {\n        this.props.logInCallback(this.state);\n      });\n    } else {\n      this.setState({\n        instructions: \"Incorrect user ID or password. Try again.\"\n      });\n    }\n  }\n\n  logOut() {\n    // Task 2\n    this.setState({\n      loggedIn: false\n    }); // Task 3\n\n    this.setState({\n      instructions: \"Please log in to comment on photos.\"\n    });\n    this.setState({\n      loggedIn: false\n    }); // Task 3 \n\n    this.setState({\n      loggedIn: false,\n      userId: \"\",\n      userName: \"\",\n      userIdFieldValue: \"\",\n      passwordFieldValue: \"\"\n    }, () => {\n      this.props.logInCallback(this.state);\n    });\n  }\n\n  render() {\n    // Task 2\n    if (this.state.loggedIn) {\n      // logged in\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-manager-block user-manager-block-active-background\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }\n      }, \"Logged in as: \", this.state.userName, \"\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n        className: \"button\",\n        type: \"button\",\n        value: \"Log Out\",\n        onClick: this.logOut,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 57\n        }\n      })), this.state.instructions);\n    } else {\n      // logged Out\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"user-manager-block user-manager-block-inactive-background\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }\n      }, \"user ID:\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.userIdFieldValue,\n        onChange: this.handleUserIdChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 30\n        }\n      }), \"\\xA0 password:\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.passwordFieldValue,\n        onChange: this.handlePasswordChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 28\n        }\n      }), \"\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n        className: \"button\",\n        type: \"button\",\n        value: \"Log In\",\n        onClick: this.logIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      })), this.state.instructions);\n    }\n  }\n\n}\n\nexport default UserManager;","map":{"version":3,"sources":["C:/Users/Firas GACHA/Desktop/Coursera_Projects/test-part-2/src/components/UserManager.js"],"names":["React","UserManager","Component","constructor","props","state","userId","userName","loggedIn","instructions","userIdFieldValue","passwordFieldValue","handleUserIdChange","bind","handlePasswordChange","logIn","logOut","event","setState","target","value","password","userIdEntered","passwordEntered","successful","trim","logInCallback","render"],"mappings":"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","sourcesContent":["import React from 'react';\n// Task 7 import AppContext from './AppContext';\nimport './master.css';\n\nclass UserManager extends React.Component {\n\n  // Task 7 static contextType = AppContext;\n\n// Task 6\n  // componentDidMount() {\n  //   console.log(\"UserManager.componentDidMount( )\");\n  //\n  //   // let the property in App point to this\n  //   // Task 7\n  //   // let appContext = this.context;\n  //   // appContext.userManager = this;\n  // }\n  //\n  // componentDidUpdate(prevProps, prevState) {\n  //   console.log(\"UserManager.componentDidUpdate( )\");\n  //\n  //   // only do this if the ID has changed\n  //\n  //   // Task 7\n  //   // if (prevState.userId !== this.state.userId) {\n  //   //\n  //   //   // calls ALL the event listeners and pass them the new user ID\n  //   //   this.idChangeListeners.forEach(listener => listener(this.state.userId));\n  //   // }\n  // }\n\n  constructor(props) {\n    super(props);\n\n    this.state={\n      userId : \"\",\n      userName : \"\",\n      loggedIn : \"\",\n      instructions : \"Please log in comment on photos\",\n      userIdFieldValue : \"\",\n      passwordFieldValue : \"\"\n    };\n    // a list of objects that listen to ID change events\n    // Task 7 this.idChangeListeners = [];\n\n    // Task 2\n\n    // these are necessary for \"this\" to point to this object\n    this.handleUserIdChange = this.handleUserIdChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    // Task 7 this.idChangeSubscribe = this.idChangeSubscribe.bind(this);\n    this.logIn = this.logIn.bind(this);\n    this.logOut = this.logOut.bind(this);\n  }\n\n  // Task 3\n  handleUserIdChange(event) {\n    this.setState({userId: event.target.value});\n  }\n  \n  handlePasswordChange(event) {\n    this.setState({password: event});\n  }\n\n  // this method is for listener to add themselves to the list so that\n  // they will get notified when the user ID has changed\n\n  // Task 7\n  // idChangeSubscribe(listener) {\n  //   console.log(\"UserManager.idChangeSubscribe()\");\n  //   this.idChangeListeners.push(listener);\n  //   console.log(this.idChangeListeners);\n  // }\n\n  logIn() {\n\n    // this.setState({loggedIn: true});\n    // Task 2\n\n    // Task 3\n    let userIdEntered = this.state.userIdFieldValue;\n    let passwordEntered = this.state.passwordFieldValue;\n    \n    let successful = false;\n    let userName = \"unknown\";\n    \n    // Simulated database lookup!!! We would not do this in real life!\n    \n    if (userIdEntered.trim() === \"harry\" && passwordEntered.trim() === \"12345\") {\n      userName = \"Harry Kong\";\n      successful = true;\n    }\n    \n    if (userIdEntered.trim() === \"jenny\" && passwordEntered.trim() === \"12345\") {\n      userName = \"Jenny Luz\";\n      successful = true;\n    }\n    \n    // Was the log in successful?\n    \n    if (successful) {\n      this.setState( { loggedIn: true, userId: userIdEntered.trim(), userName: userName, instructions: \"You can now comment on photos!\" },\n                      () => { this.props.logInCallback(this.state); } );\n    }\n    else {\n      this.setState( { instructions: \"Incorrect user ID or password. Try again.\" } );\n    }\n\n  }\n\n  logOut() {\n\n    // Task 2\n    this.setState({loggedIn: false});\n    // Task 3\n    this.setState( { instructions: \"Please log in to comment on photos.\" } )\n    this.setState( { loggedIn: false } );\n    // Task 3 \n    this.setState( { loggedIn: false, userId: \"\", userName: \"\", userIdFieldValue: \"\", passwordFieldValue: \"\" }, () => { this.props.logInCallback(this.state); } );\n  }\n\n  render() {\n    // Task 2\n    if (this.state.loggedIn) {\n        // logged in\n        return (\n          <div className=\"user-manager-block user-manager-block-active-background\">\n            <p>Logged in as: {this.state.userName}&nbsp;<input className=\"button\" type=\"button\" value=\"Log Out\" onClick={this.logOut} /></p>\n            { /* Task 4 */ }\n            { this.state.instructions}\n          </div>\n        );\n    }\n    else {\n        // logged Out\n        return (\n          <div className=\"user-manager-block user-manager-block-inactive-background\">\n            <p>user ID:&nbsp;<input type=\"text\" value={this.state.userIdFieldValue} onChange={this.handleUserIdChange}/>&nbsp;\n            password:&nbsp;<input type=\"text\" value={this.state.passwordFieldValue} onChange={this.handlePasswordChange}/>&nbsp;\n            <input className=\"button\" type=\"button\" value=\"Log In\" onClick={this.logIn} /></p>\n            { /* Task 4 */ }\n            { this.state.instructions }\n          </div>\n        );\n    }\n  }\n\n}\n\nexport default UserManager;\n"]},"metadata":{},"sourceType":"module"}